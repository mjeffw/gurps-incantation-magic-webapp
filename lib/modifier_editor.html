<material-expansionpanel flat [showSaveCancel]='false'
                         name='{{modifier.name}}'
                         secondaryText='{{details[0].detailText}} ({{modifier.spellPoints}})'>
  <div value class='valueClass left-component-wrap'>
    <span class='right-component'>
      <span class='modifier-text' [ngClass]="{ invisible: !modifier.inherent }">
        <glyph size="large" icon='check_circle'></glyph>
      </span>
    </span>
  </div>
  <span [ngSwitch]="modifier.name">
    <span *ngIf="modifier.name != 'Affliction, Stunning'">
      <div style="padding-bottom: 12px;">
        <material-button icon (trigger)='modifier.incrementSpellPoints()'><glyph icon='add_circle'></glyph></material-button>
        <material-button icon (trigger)='modifier.decrementSpellPoints()'><glyph icon='remove_circle'></glyph></material-button>
        <span style="padding-left: 10px;">{{modifier.spellPoints}} SP</span>
      </div>
    </span>

    <div *ngSwitchDefault></div>

    <div *ngSwitchCase="'Afflictions'">
      <material-input style="width: 80%;" label="EFFECT" floatingLabel [(ngModel)]="modifier.specialization">
      </material-input>
      <material-input style="width: 10%;" type="number" checkInteger trailingText="%" rightAlign
                      [(ngModel)]="modifier.value">
      </material-input>
    </div>

    <div *ngSwitchCase="'Altered Traits'">
      <material-input style="width: 80%;" label="TRAIT" floatingLabel [(ngModel)]="modifier.specialization">
      </material-input>
      <material-input style="width: 10%;" type="number" checkInteger label="LEVEL" floatingLabel rightAlign
                      [(ngModel)]="modifier.specLevel">
      </material-input>
      <mjw-traitmodifier-list-editor [traitModifiable]="modifier"></mjw-traitmodifier-list-editor>
    </div>


    <div *ngSwitchCase="'Area of Effect'">
      <material-checkbox label="Includes" [(checked)]="modifier.includes"></material-checkbox>
      <div>
        <material-button icon (trigger)='properties["areaOfEffectAdapter"].incrementTargets()'>
          <glyph icon='add_circle'></glyph>
        </material-button>
        <material-button icon (trigger)='properties["areaOfEffectAdapter"].decrementTargets()'>
          <glyph icon='remove_circle'></glyph>
        </material-button>
        <span style="padding-left: 10px;">{{modifier.targets}} Targets</span>
      </div>
    </div>

    <div *ngSwitchCase="'Bestows a (Bonus or Penalty)'">
      <material-dropdown-select
          [options]='properties["bestowsAdapter"].rangeList'
          [buttonText]='properties["bestowsAdapter"].render(modifier.range)'
          [selection]='properties["bestowsAdapter"].selectionModel'
          [itemRenderer]='properties["bestowsAdapter"].render'>
      </material-dropdown-select>
      <material-input style="width: 100%;" label="ROLL TO MODIFY" floatingLabel [(ngModel)]="modifier.specialization">
      </material-input>
    </div>

    <div *ngSwitchCase="'Damage'">
      <material-checkbox label="Direct" [(checked)]="modifier.direct"></material-checkbox>
      <material-checkbox label="Explosive"
                         [disabled]="modifier.direct"
                       [(checked)]="modifier.explosive"></material-checkbox>
      <material-checkbox label="Vampiric" [(checked)]="modifier.vampiric"></material-checkbox>
      <div>
        <material-dropdown-select
            [options]='properties["damageAdapter"].typeList'
            [buttonText]='properties["damageAdapter"].render(modifier.type)'
            [selection]='properties["damageAdapter"].selectionModel'
            [itemRenderer]='properties["damageAdapter"].render'>
        </material-dropdown-select>
        <mjw-traitmodifier-list-editor [traitModifiable]="modifier"></mjw-traitmodifier-list-editor>
      </div>
    </div>

    <div style='padding-top: 16px;' class='left-component-wrap'>
      <span class='left-component'>
        <material-checkbox style="padding-top: 8px;" label="Inherent" [(checked)]='modifier.inherent'></material-checkbox>
      </span>
      <material-button icon class='remove-btn' (trigger)='removeModifier()'>
        <glyph icon='remove_circle'></glyph>
      </material-button>
    </div>
  </span>
</material-expansionpanel>
